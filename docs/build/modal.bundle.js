!function(t){function n(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var o={};n.m=t,n.c=o,n.d=function(t,o,e){n.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(o,"a",o),o},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([function(t,n,o){"use strict";!function(){window.Modal=o(1)}()},function(t,n,o){"use strict";!function(){var n={close:"Close"},o=function(t,o){return o||(o=n),n.hasOwnProperty(t)?n[t]:(console.warn("No localization for "+t),t)},e=function(t,n){var o={},e=void 0;for(e in t)t.hasOwnProperty(e)&&(o[e]=t[e]);if(!n)return o;for(e in n)n.hasOwnProperty(e)&&(o[e]=n[e]);return o},i=function(t){var n={autoplay:1};this.options=e(n,t),this.bg=null,this.container=null};i.prototype.show=function(){var t=this,n=function(){t.remove()},e=function(){t.bg=document.createElement("div"),t.bg.classList.add("modal-bg"),t.container=document.createElement("div"),t.container.classList.add("modal"),t.container.setAttribute("tabindex",-1),t.container.setAttribute("role","dialog"),t.container.setAttribute("aria-hidden","true"),t.container.innerHTML="<section></section>",document.body.appendChild(t.bg),document.body.appendChild(t.container),t.keyListener=document.addEventListener("keydown",function(n){27===n.keyCode&&t.remove()})},i=function(){if(t.options){var e=document.createElement("button");e.classList.add("modal-dismiss"),e.innerHTML=o("close"),e.setAttribute("title",o("close")),t.container.appendChild(e),e.addEventListener("click",n);var i=function(){if(t&&t.options){var n=t.options.aspect,o={width:0,height:0},e={width:window.innerWidth,height:window.innerHeight};window.innerWidth/window.innerHeight>n?(o.height=e.height-.2*e.height,o.width=o.height*n):(o.width=e.width-.2*e.width,o.height=o.width/n),t.container.style.right="",t.container.style.width=o.width+"px",t.container.style.height=o.height+"px",t.container.style.left=(e.width-o.width)/2+"px",t.container.style.top=(e.height-o.height)/2+"px"}};t.options.hasOwnProperty("aspect")&&(i(),t.resizeListener=window.addEventListener("resize",i)),t.options.hasOwnProperty("class")&&t.container.classList.add(t.options.class),t.bg.addEventListener("click",n),window.setTimeout(function(){t&&(t.container&&t.container.classList.add("modal-focus"),t.bg&&t.bg.classList.add("modal-focus"),t.options&&t.options.hasOwnProperty("on")&&t.options.on.hasOwnProperty("show")&&t.options.on.show(t.container,t.options))},100)}};if(this.options.url){e(),t.container.classList.add("modal-loading");var s=new XMLHttpRequest;s.onreadystatechange=function(){4===this.readyState&&200===this.status&&t.container&&(t.container.classList.add("modal-node"),t.container.classList.remove("modal-loading"),t.container.innerHTML="<section>"+this.responseText+"</section>",i())},window.setTimeout(function(){t.options&&(s.open(t.options.hasOwnProperty("method")?t.options.method:"get",t.options.url,!0),s.send())},0)}else if(this.options.node){e();var r="string"==typeof this.options.node?document.querySelector(this.options.node):this.options.node;if(!r)throw new Error("Invalid node for modal :"+r);t.container.classList.add("modal-node"),this.options.hasOwnProperty("class")&&this.container.classList.add(this.options.class),this.container.innerHTML="<section>"+r.innerHTML+"</section>",i()}else if(this.options.html)e(),this.container.classList.add("modal-node"),this.container.innerHTML="<section>"+this.options.html+"</section>",i();else{if(!this.options.youtube&&!this.options.vimeo)throw new Error("Invalid modal parameters: "+JSON.stringify(this.options));e();var a=this.options.hasOwnProperty("youtube")?"https://www.youtube.com/embed/":"https://player.vimeo.com/video/",d='<iframe src="'+a+(this.options.youtube?this.options.youtube:this.options.vimeo)+(this.options.autoplay?"?autoplay=1":"")+'" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';this.container.classList.add("modal-video"),this.container.innerHTML=d,i()}return this},i.prototype.remove=function(){var t=this;return t.container&&this.container.classList.remove("modal-focus"),t.bg&&this.bg.classList.add("modal-dismiss"),t.options&&t.options.hasOwnProperty("on")&&t.options.on.hasOwnProperty("remove")&&t.options.on.remove(t.container,t.options),window.setTimeout(function(){t&&(t.bg&&document.body.removeChild(t.bg),t.container&&document.body.removeChild(t.container),t.resizeListener=t.keyListener=t.options=t.bg=t.container=null)},200),window.removeEventListener("resize",t.resizeListener),document.removeEventListener("keydown",t.keyListener),this},t.exports=i}()}]);